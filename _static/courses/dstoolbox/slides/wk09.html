<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เครื่องมือทางวิทยาการข้อมูล - สัปดาห์ 9</title>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
    @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap');

    body {
      font-family: 'Kanit', sans-serif;
    }

    .slide {
      min-height: 100vh;
      display: none;
      animation: fadeIn 0.5s ease-in-out;
    }

    .slide.active {
      display: flex;
    }

    @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
    }

    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .tech-card {
      transition: all 0.3s ease;
    }

    .tech-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }

    .slide-counter {
      position: fixed;
      bottom: 20px;
      right: 20px;
      color: white;
      padding: 10px 15px;
      border-radius: 20px;
      font-size: 14px;
      z-index: 1000;
    }
    .home {
      position: fixed;
      bottom: 20px;
      left: 20px;
      color: white;
      font-size: 14px;
      z-index: 1000;
    }
    </style>
  </head>
  <body class="bg-gray-50" x-data="slideshow()">
    <!-- แผนการสอน -->
    <div class="home flex items-center gap-4">
      <a href="../../../../courses/dstoolbox/index.html" class="text-white bg-gray-900 backdrop-blur-sm hover:bg-gray-700 transition rounded-full p-2 px-4 text-sm">
        <span class="hover:text-blue-700">
          <svg class="inline w-6 h-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-school-icon lucide-school"><path d="M14 22v-4a2 2 0 1 0-4 0v4"/><path d="m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10"/><path d="M18 5v17"/><path d="m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6"/><path d="M6 5v17"/><circle cx="12" cy="9" r="2"/></svg>
        </span>
        <span class="py-3 mt-2"> แผนการเรียนรู้ </span>
      </a>
    </div>

    <!-- Slide Counter -->
    <div class="slide-counter bg-gray-900">
      <span x-text="currentSlide+1"></span> / <span x-text="totalSlides"></span>
    </div>

    <!-- Navigation -->
    <div class="fixed top-2 left-0 right-0 flex justify-between items-center px-8 z-10">
      <!-- ปุ่มก่อนหน้า -->
      <button id="prevSlide" @click="previousSlide()" class="text-white bg-white/10 backdrop-blur-sm hover:bg-white/20 transition rounded-full p-4">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
      </button>

      <!-- ตรงกลาง: ตัวนับสไลด์ + ปุ่ม Home -->
      <div class="flex items-center gap-4">
        <a href="./wk09.html" class="text-white bg-white/10 backdrop-blur-sm hover:bg-white/20 transition rounded-full p-2 px-4 text-sm">
          <span>
            <svg class="inline w-6 h-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-house-icon lucide-house"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"/><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></svg>
          </span>
        </a>
      </div>

      <!-- ปุ่มถัดไป -->
      <button id="nextSlide" @click="nextSlide()" class="text-white bg-white/10 backdrop-blur-sm hover:bg-white/20 transition rounded-full p-4">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </button>
    </div>



    <div x-ref="slidesContainer">

      <div :class="{ 'active': currentSlide === 0 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-4xl mx-auto px-8">
          <h1 class="text-6xl font-bold mb-6 leading-tight mt-8">
            การใช้ Docker เพื่อความสามารถในการทำซ้ำ<br>
            <span class="text-yellow-300">(Reproducibility)</span>
          </h1>

          <div class="text-xl text-white/90 mb-8 font-light">
            Dockerfile • Container • Image • MCP Metadata
          </div>

          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 mb-8">
            <h2 class="text-2xl font-semibold mb-4">ผลลัพธ์การเรียนรู้</h2>
            <div class="grid md:grid-cols-2 gap-4 text-left">
              <div class="flex items-start gap-3"><div class="badge">1</div><span>เข้าใจหลักการของ Docker และ containerization</span></div>
              <div class="flex items-start gap-3"><div class="badge">2</div><span>สร้าง Dockerfile สำหรับโครงการข้อมูลได้</span></div>
              <div class="flex items-start gap-3"><div class="badge">3</div><span>ทดสอบและปรับปรุง environment เพื่อความ reproducible</span></div>
              <div class="flex items-start gap-3"><div class="badge">4</div><span>ฝัง metadata ของ MCP ใน Docker image ได้</span></div>
            </div>
          </div>

          <div class="text-lg text-white/80">
            <span class="week-label">สัปดาห์ที่ 9</span>
          </div>
        </div>
      </div>

      <!-- Slide 1: Agenda -->
      <div :class="{ 'active': currentSlide === 1 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-4xl mx-auto px-8">
          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6">
            <h2 class="text-4xl font-semibold mb-10 text-blue-300">สัปดาห์ที่ 9: Docker และการทำซ้ำงาน (Reproducibility)</h2>
            <ul class="list-disc pl-6 space-y-6 text-2xl text-left">
              <li>แนวคิดเรื่องการทำซ้ำงานในวิทยาการข้อมูล [1]</li>
              <li>การสร้าง Docker Image สำหรับโปรเจกต์วิเคราะห์ข้อมูล</li>
              <li>การฝัง Metadata ของ Model Context Protocol (MCP) ใน Docker Build</li>
              <li>การจัดการสภาพแวดล้อมให้คงที่ (Environment Consistency)</li>
              <li>Personalized AI Learning: ใช้ AI ช่วยเขียนและตรวจสอบ Dockerfile [7]</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Slide 2: Why Reproducibility? -->
      <div :class="{ 'active': currentSlide === 2 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-4xl mx-auto px-8">
          <h2 class="text-4xl font-semibold mb-8 text-blue-300">ทำไมการทำซ้ำงานจึงสำคัญ?</h2>
          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-left space-y-4">
            <p class="text-2xl text-yellow-300 font-bold">ปัญหา: "มันรันได้ในเครื่องของผมนะ"</p>
            <ul class="list-disc pl-6 text-xl space-y-2">
              <li>เวอร์ชันของโมดูล (เช่น Scikit-Learn) ไม่ตรงกันทำให้ผลลัพธ์โมเดลเพี้ยน [8]</li>
              <li>OS ต่างกันมีการจัดการหน่วยความจำหรือ Library พื้นฐานต่างกัน</li>
              <li>การตั้งค่าสภาพแวดล้อม (Environment) ตกหล่น</li>
            </ul>
            <p class="text-xl mt-4 border-t border-white/20 pt-4 italic">Docker ช่วย "แช่แข็ง" สภาพแวดล้อมทั้งหมดเพื่อให้ทุกคนรันได้ผลลัพธ์เดียวกัน</p>
          </div>
        </div>
      </div>

      <!-- Slide 3: Docker Basics -->
      <div :class="{ 'active': currentSlide === 3 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-5xl mx-auto px-8">
          <h2 class="text-3xl font-semibold mb-6 text-blue-300">องค์ประกอบพื้นฐานของ Docker</h2>
          <div class="grid grid-cols-3 gap-4">
            <div class="bg-blue-500/20 p-6 rounded-xl border border-blue-400">
              <h4 class="text-xl font-bold mb-2 text-blue-300">Dockerfile</h4>
              <p class="text-sm">"สูตรอาหาร" หรือชุดคำสั่งในการสร้าง Image</p>
            </div>
            <div class="bg-purple-500/20 p-6 rounded-xl border border-purple-400">
              <h4 class="text-xl font-bold mb-2 text-purple-300">Image</h4>
              <p class="text-sm">ไฟล์ที่พร้อมรัน (Read-only) ที่รวมโค้ดและ Library ไว้แล้ว</p>
            </div>
            <div class="bg-green-500/20 p-6 rounded-xl border border-green-400">
              <h4 class="text-xl font-bold mb-2 text-green-300">Container</h4>
              <p class="text-sm">Image ที่กำลังรันอยู่ (Runtime instance)</p>
            </div>
          </div>
          <div class="mt-10 p-4 bg-black/30 rounded-lg font-mono text-sm text-left">
            $ docker build -t my-data-project . <br>
            $ docker run my-data-project
          </div>
        </div>
      </div>

      <!-- Slide 4: Dockerfile Anatomy -->
      <div :class="{ 'active': currentSlide === 4 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-5xl mx-auto px-8">
          <h2 class="text-3xl font-semibold mb-6 text-blue-300">โครงสร้าง Dockerfile สำหรับงานข้อมูล</h2>
          <div class="grid grid-cols-2 gap-6">
            <div class="bg-white/10 p-4 rounded-xl text-left space-y-2">
              <p><strong>FROM:</strong> เลือก Python เวอร์ชันที่ต้องการ</p>
              <p><strong>WORKDIR:</strong> กำหนดโฟลเดอร์ทำงานใน Container</p>
              <p><strong>COPY:</strong> คัดลอกโค้ดและไฟล์ข้อมูลเข้าไป</p>
              <p><strong>RUN:</strong> ติดตั้ง Library ผ่าน pip</p>
              <p><strong>CMD:</strong> คำสั่งเริ่มต้น (เช่นรัน Jupyter หรือ script)</p>
            </div>
            <div class="bg-black/40 rounded-xl p-4 text-left font-mono text-xs text-green-400">
              FROM python:3.9-slim<br>
              WORKDIR /app<br>
              COPY requirements.txt .<br>
              RUN pip install -r requirements.txt<br>
              COPY . .<br>
              CMD ["python", "train_model.py"]
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 5: Modules Installation -->
      <div :class="{ 'active': currentSlide === 5 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-4xl mx-auto px-8 text-left">
          <h2 class="text-3xl font-semibold mb-8 text-blue-300 text-center">การจัดการโมดูลวิทยาการข้อมูล</h2>
          <p class="text-xl mb-4 text-yellow-200 font-bold italic"> Personal Learning Tip: ให้ AI ช่วยระบุเวอร์ชันของ Library ที่เสถียรที่สุดสำหรับโปรเจกต์ </p>
          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 border-l-4 border-orange-500">
            <h3 class="text-xl font-bold mb-2">ตัวอย่าง requirements.txt</h3>
            <pre class="text-sm font-mono bg-black/20 p-2 rounded">
pandas==2.1.0
scikit-learn==1.3.0
pycaret==3.1.0
matplotlib==3.8.0
            </pre>
            <p class="mt-4 text-sm">*ระบุเวอร์ชันเสมอ (Pinning) เพื่อป้องกันโมเดลพังในอนาคตเมื่อ Library อัปเดต*</p>
          </div>
        </div>
      </div>

      <!-- Slide 6: Intro to MCP Labels -->
      <div :class="{ 'active': currentSlide === 6 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-4xl mx-auto px-8">
          <h2 class="text-4xl font-semibold mb-8 text-blue-300">ฝัง Metadata ด้วย Model Context Protocol (MCP)</h2>
          <div class="bg-blue-900/40 border border-blue-400 rounded-2xl p-6 text-left">
            <p class="text-xl mb-4">เพื่อให้ AI Agent สามารถอ่านและเข้าใจ Image ได้ทันที เราจะใช้ **MCP Metadata** ในรูปของ Docker Label [1]:</p>
            <ul class="list-disc pl-10 space-y-4">
              <li><strong>Dataset Origin:</strong> ชุดข้อมูลมาจากที่ไหน? (เช่น UCI ML Repo [9])</li>
              <li><strong>Model Type:</strong> อัลกอริทึมที่ใช้คืออะไร?</li>
              <li><strong>Performance:</strong> ค่า Accuracy หรือ F1-score ที่ได้ล่าสุด</li>
              <li><strong>Context Layer:</strong> ข้อจำกัดของโมเดลนี้คืออะไร? [1]</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Slide 7: Dockerfile with MCP labels -->
      <div :class="{ 'active': currentSlide === 7 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-5xl mx-auto px-8">
          <h2 class="text-3xl font-semibold mb-6 text-blue-300">โค้ดตัวอย่างการฝัง Metadata</h2>
          <div class="bg-black/40 rounded-xl p-6 text-left font-mono text-sm leading-relaxed overflow-x-auto">
            <p class="text-gray-400"># การใส่ Metadata ตามมาตรฐาน MCP [1]</p>
            <p>LABEL org.mcp.context.model="RandomForest"</p>
            <p>LABEL org.mcp.context.dataset="Pima Indians Diabetes"</p>
            <p>LABEL org.mcp.context.metrics='{"accuracy": 0.89, "f1": 0.85}'</p>
            <p>LABEL org.mcp.context.author="StudentID-12345"</p>
            <br>
            <p class="text-yellow-400"># ตรวจสอบ Metadata หลัง Build:</p>
            <p class="text-white">$ docker inspect --format='{ {json .Config.Labels} }' my-image</p>
          </div>
        </div>
      </div>

      <!-- Slide 8: Reproducible Serving with RamaLama -->
      <div :class="{ 'active': currentSlide === 8 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-4xl mx-auto px-8 text-left">
          <h2 class="text-3xl font-semibold mb-10 text-blue-300 text-center">การ Serve โมเดลอย่างปลอดภัยด้วย RamaLama</h2>
          <div class="space-y-6">
            <div class="flex items-start space-x-4 bg-white/5 p-4 rounded-lg">
              <div class="bg-orange-500 p-2 rounded text-white font-bold">Concept</div>
              <p class="text-lg">RamaLama ใช้ OCI containers เพื่อจัดการและ Serve โมเดล AI ในเครื่อง [6]</p>
            </div>
            <div class="bg-white/10 p-6 rounded-2xl border-r-4 border-yellow-400">
              <h4 class="font-bold mb-2">ทำไมถึงเหมาะสม?</h4>
              <ul class="list-disc pl-6 space-y-1">
                <li><strong>Isolation:</strong> แยกโมเดลออกจากไฟล์ระบบของ Host [3]</li>
                <li><strong>No Network Access:</strong> ป้องกันข้อมูลรั่วไหลระหว่างการรันโมเดล [4]</li>
                <li><strong>Auto-Cleanup:</strong> ลบข้อมูลชั่วคราวทิ้งเมื่อจบการทำงาน [4]</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 9: Environment Isolation & Security -->
      <div :class="{ 'active': currentSlide === 9 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-4xl mx-auto px-8 text-left">
          <h2 class="text-3xl font-semibold mb-8 text-blue-300 text-center">ความปลอดภัยในการทำซ้ำงาน</h2>
          <div class="grid grid-cols-2 gap-6">
            <div class="bg-red-900/30 p-4 rounded-xl border border-red-400/50">
              <h4 class="font-bold text-red-300 mb-2">ความเสี่ยง</h4>
              <p class="text-sm">โมเดลหรือโค้ดจากภายนอกอาจแฝง Malware หรือช่องโหว่ในการเข้าถึงไฟล์ในเครื่อง</p>
            </div>
            <div class="bg-green-900/30 p-4 rounded-xl border border-green-400/50">
              <h4 class="font-bold text-green-300 mb-2">ทางแก้ (Docker/RamaLama)</h4>
              <p class="text-sm">รันแบบ rootless และใช้ read-only volume mount เพื่อไม่ให้โค้ดแก้ไขไฟล์ Host ได้ [4]</p>
            </div>
          </div>
          <p class="mt-8 text-center text-lg italic underline">"Reproducibility ต้องมาคู่กับ Security"</p>
        </div>
      </div>

      <!-- Slide 10: Summary for Lab -->
      <div :class="{ 'active': currentSlide === 10 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-4xl mx-auto px-8">
          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8">
            <h2 class="text-4xl font-semibold mb-6 text-yellow-300">เตรียมตัวสำหรับ Workshop</h2>
            <p class="text-xl mb-8">ในคาบ Lab 2 ชั่วโมง เราจะลงมือปฏิบัติจริงดังนี้:</p>
            <ol class="list-decimal pl-10 text-left text-xl space-y-4">
              <li>สร้าง Dockerfile สำหรับโปรเจกต์ Scikit-Learn</li>
              <li>ฝึกฝัง **MCP Metadata** ลงในขั้นตอนการ Build [1]</li>
              <li>ทดลองส่ง Image ให้เพื่อนรัน เพื่อพิสูจน์ความแม่นยำของผลลัพธ์</li>
              <li>ใช้ AI Agent ช่วยตรวจสอบความถูกต้องของ Docker Configuration</li>
            </ol>
            <p class="mt-10 text-sm text-gray-300">*พร้อมแล้วไปที่ Laboratory Slide แผ่นแรกกันเลย!*</p>
          </div>
        </div>
      </div>

      <!-- Slide 11: Data Persistence with Volumes -->
      <div :class="{ 'active': currentSlide === 11 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-5xl mx-auto px-8">
          <h2 class="text-3xl font-semibold mb-6 text-blue-300">การจัดการข้อมูลถาวร (Volumes)</h2>
          <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 text-left">
            <p class="text-xl mb-4">ในงานวิทยาการข้อมูล เราไม่ควรเก็บชุดข้อมูลขนาดใหญ่ไว้ใน Image โดยตรง [1]:</p>
            <ul class="list-disc pl-8 space-y-3 mb-6">
              <li><strong>Docker Volumes:</strong> ใช้สำหรับเก็บข้อมูลที่ต้องการให้คงอยู่แม้ Container จะถูกลบ [2].</li>
              <li><strong>Bind Mounts:</strong> เชื่อมต่อโฟลเดอร์จากเครื่อง Host (เช่น datasets/) เข้ากับ Container โดยตรง เพื่อความสะดวกในการแก้ไขไฟล์ [2].</li>
            </ul>
            <div class="bg-black/40 rounded-xl p-4 font-mono text-sm text-yellow-400">
              # ตัวอย่างการรันพร้อมเชื่อมต่อข้อมูลภายนอกแบบ Read-only เพื่อความปลอดภัย [3]<br>
              $ docker run -v /home/user/data:/app/data:ro my-ml-image
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 12: Docker Compose for Multi-container Apps -->
      <div :class="{ 'active': currentSlide === 12 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-5xl mx-auto px-8">
          <h2 class="text-3xl font-semibold mb-6 text-blue-300">Docker Compose: จัดการระบบที่ซับซ้อน</h2>
          <div class="grid grid-cols-2 gap-6">
            <div class="text-left space-y-4">
              <p>ใช้ <strong>YAML file</strong> เพื่อนิยามและรันบริการหลายอย่างพร้อมกัน [4]:</p>
              <ul class="list-disc pl-6 text-sm">
                <li>รัน Jupyter Notebook คู่กับฐานข้อมูล (เช่น PostgreSQL).</li>
                <li>กำหนด Network และ Environment Variables ได้ในที่เดียว.</li>
                <li>ช่วยให้เพื่อนร่วมทีมรัน Stack ทั้งหมดได้ด้วยคำสั่งเดียว.</li>
              </ul>
            </div>
            <div class="bg-black/40 rounded-xl p-4 text-left font-mono text-xs text-green-400">
              services:<br>
              &nbsp;&nbsp;db: image: postgres<br>
              &nbsp;&nbsp;ml_app:<br>
              &nbsp;&nbsp;&nbsp;&nbsp;build: .<br>
              &nbsp;&nbsp;&nbsp;&nbsp;ports: ["8888:8888"]<br>
              &nbsp;&nbsp;&nbsp;&nbsp;depends_on: [db]
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 13: Docker Best Practices for Data Science -->
      <div :class="{ 'active': currentSlide === 13 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-4xl mx-auto px-8">
          <h2 class="text-3xl font-semibold mb-8 text-blue-300">แนวปฏิบัติที่ดีที่สุดในการสร้าง Data Image</h2>
          <div class="space-y-4 text-left">
            <div class="bg-green-500/10 p-4 rounded-lg border border-green-500/50">
              <h4 class="font-bold text-green-300">1. ใช้ .dockerignore</h4>
              <p class="text-sm">ข้ามไฟล์ที่ไม่จำเป็น เช่น .git, __pycache__, หรือไฟล์ข้อมูลดิบขนาดใหญ่ เพื่อลดขนาด Image [1].</p>
            </div>
            <div class="bg-blue-500/10 p-4 rounded-lg border border-blue-500/50">
              <h4 class="font-bold text-blue-300">2. เลเยอร์การติดตั้ง (Layer Caching)</h4>
              <p class="text-sm">Copy เฉพาะ requirements.txt และรัน pip install ก่อน Copy โค้ดทั้งหมด เพื่อให้ Build ครั้งต่อไปเร็วขึ้น [5].</p>
            </div>
            <div class="bg-purple-500/10 p-4 rounded-lg border border-purple-500/50">
              <h4 class="font-bold text-purple-300">3. ใช้ระบบ Rootless</h4>
              <p class="text-sm">รัน Container โดยไม่ใช้สิทธิ์ Root เพื่อความปลอดภัยสูงสุด (Security-first) [2, 6].</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 14: Laboratory Overview -->
      <div :class="{ 'active': currentSlide === 14 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-4xl mx-auto px-8">
          <div class="bg-blue-900/40 border-2 border-blue-400 rounded-3xl p-8">
            <h2 class="text-4xl font-bold mb-6 text-blue-300">ภารกิจปฏิบัติการ: บรรจุโมเดลลง Container</h2>
            <p class="text-2xl mb-8">สร้างสภาพแวดล้อมที่ทำซ้ำได้ (Reproducible) และฝัง Context ผ่าน MCP</p>
            <div class="grid grid-cols-2 gap-8 text-left text-xl">
              <div class="bg-white/5 p-4 rounded-xl">
                <h4 class="text-yellow-300 font-bold mb-2">Input:</h4>
                <p>Scikit-Learn Pipeline จากสัปดาห์ที่ 8 [7]</p>
              </div>
              <div class="bg-white/5 p-4 rounded-xl">
                <h4 class="text-green-300 font-bold mb-2">Output:</h4>
                <p>Docker Image ที่มี MCP Metadata ฝังอยู่ [8]</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 15: Lab Step 1 - Dependency Management -->
      <div :class="{ 'active': currentSlide === 15 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-4xl mx-auto px-8">
          <h2 class="text-3xl font-semibold mb-6 text-blue-300">Step 1: จัดเตรียม Dependencies</h2>
          <p class="text-xl mb-6 text-left">สร้างไฟล์ <code>requirements.txt</code> เพื่อระบุเวอร์ชันที่แน่นอนของโมดูล [5]:</p>
          <div class="bg-black/40 rounded-xl p-6 text-left font-mono text-lg text-green-400 mb-6">
            scikit-learn==1.3.0<br>
            pandas==2.1.0<br>
            numpy==1.24.3<br>
            joblib==1.3.1
          </div>
          <p class="text-sm text-gray-300 italic">*Tip: ใช้คำสั่ง `pip freeze > requirements.txt` ใน venv เพื่อดึงรายการปัจจุบันออกมา [9]*</p>
        </div>
      </div>

      <!-- Slide 16: Lab Step 2 - Writing Dockerfile -->
      <div :class="{ 'active': currentSlide === 16 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-5xl mx-auto px-8">
          <h2 class="text-3xl font-semibold mb-6 text-blue-300">Step 2: เขียนชุดคำสั่ง Dockerfile</h2>
          <div class="bg-black/40 rounded-xl p-6 text-left font-mono text-xs overflow-y-auto max-h-[400px]">
            <p class="text-gray-400"># ใช้ base image ที่เหมาะสม</p>
            <p>FROM python:3.9-slim</p><br>
            <p class="text-gray-400"># ตั้งค่าโฟลเดอร์ทำงาน</p>
            <p>WORKDIR /ml_app</p><br>
            <p class="text-gray-400"># ติดตั้ง dependencies (Layer caching)</p>
            <p>COPY requirements.txt .</p>
            <p>RUN pip install --no-cache-dir -r requirements.txt</p><br>
            <p class="text-gray-400"># คัดลอกโค้ดและโมเดล (.pkl)</p>
            <p>COPY . .</p>
          </div>
        </div>
      </div>

      <!-- Slide 17: Lab Step 3 - Integrating MCP Metadata -->
      <div :class="{ 'active': currentSlide === 17 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-5xl mx-auto px-8">
          <h2 class="text-3xl font-semibold mb-6 text-blue-300">Step 3: การฝัง Metadata ตามมาตรฐาน MCP</h2>
          <p class="text-lg mb-6 text-left">เพิ่มคำสั่ง <strong>LABEL</strong> เพื่อให้ AI Agent เข้าใจบริบทของ Image นี้ [7, 8]:</p>
          <div class="bg-black/40 rounded-xl p-6 text-left font-mono text-sm leading-relaxed text-blue-300">
            LABEL org.mcp.model.version="1.0.0"<br>
            LABEL org.mcp.dataset.source="UCI Machine Learning Repository" [9]<br>
            LABEL org.mcp.metrics='{"accuracy": 0.88, "precision": 0.85}' [8]<br>
            LABEL org.mcp.reproducibility="true"
          </div>
          <p class="mt-6 text-sm italic">*การฝัง Metadata ช่วยให้ระบบอัตโนมัติสามารถตรวจสอบประสิทธิภาพได้โดยไม่ต้องรันโค้ด*</p>
        </div>
      </div>

      <!-- Slide 18: Lab Step 4 - Building & Inspecting -->
      <div :class="{ 'active': currentSlide === 18 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-4xl mx-auto px-8">
          <h2 class="text-3xl font-semibold mb-6 text-blue-300">Step 4: การ Build และตรวจสอบความถูกต้อง</h2>
          <div class="space-y-6">
            <div class="bg-black/40 p-4 rounded-lg text-left font-mono text-sm">
              <p class="text-gray-400"># สร้าง Image พร้อมระบุ Tag</p>
              <p class="text-white">$ docker build -t my-ml-project:v1 .</p>
            </div>
            <div class="bg-black/40 p-4 rounded-lg text-left font-mono text-sm">
              <p class="text-gray-400"># ตรวจสอบว่า Metadata ถูกฝังลงไปจริงหรือไม่</p>
              <p class="text-white">$ docker inspect my-ml-project:v1</p>
            </div>
            <p class="text-lg">ให้นักศึกษาแคปเจอร์หน้าจอผลลัพธ์จาก <code>docker inspect</code> เพื่อใส่ในรายงาน [10].</p>
          </div>
        </div>
      </div>

      <!-- Slide 19: Lab Step 5 - Testing Reproducibility -->
      <div :class="{ 'active': currentSlide === 19 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-4xl mx-auto px-8">
          <h2 class="text-4xl font-semibold mb-10 text-blue-300">Step 5: การพิสูจน์การทำซ้ำ (Validation)</h2>
          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 text-left">
            <p class="text-xl mb-6 font-bold text-yellow-300">กิจกรรมจับคู่ (Pair Testing):</p>
            <ol class="list-decimal pl-10 space-y-4 text-lg">
              <li>Export Image เป็นไฟล์: <code>docker save my-image > project.tar</code></li>
              <li>ส่งไฟล์ให้เพื่อนในกลุ่มทดสอบรันในเครื่องของตนเอง.</li>
              <li>เปรียบเทียบผลลัพธ์ (Metrics) ว่าตรงกับที่ระบุไว้ใน MCP Label หรือไม่ [7].</li>
            </ol>
            <p class="mt-6 text-sm italic">*หากรันได้ผลไม่ตรงกัน ให้ใช้ AI ช่วยวิเคราะห์หาสาเหตุ (เช่น เวอร์ชันไฟล์ข้อมูลดิบต่างกัน)*</p>
          </div>
        </div>
      </div>

      <!-- Slide 20: Summary & Submission -->
      <div :class="{ 'active': currentSlide === 20 }" class="slide gradient-bg flex-col justify-center items-center text-white">
        <div class="text-center max-w-4xl mx-auto px-8">
          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 border-t-4 border-blue-400">
            <h2 class="text-3xl font-semibold mb-6">บทสรุปและสิ่งที่ต้องส่ง</h2>
            <ul class="list-disc pl-8 space-y-4 text-left text-xl">
              <li><strong>Concepts:</strong> เข้าใจความสำคัญของ Image Isolation และ Reproducibility [11].</li>
              <li><strong>Skills:</strong> เขียน Dockerfile และจัดการ MCP Metadata ได้อย่างถูกต้อง [4].</li>
              <li><strong>Submission:</strong> อัปโหลด Dockerfile และ Requirements ไปที่ GitHub Repo ของตนเอง [12].</li>
            </ul>
            <p class="mt-10 text-blue-300 font-bold text-2xl animate-pulse">สัปดาห์หน้า: เริ่มต้นใช้งาน Agent Development Kit (ADK) [7]</p>
          </div>
        </div>
      </div>

    </div>

    <script>
    function slideshow() {
      return {
        currentSlide: 0,
        totalSlides: 0,
        touchStartX: 0,
        touchEndX: 0,

        init() {
          // นับจำนวนสไลด์ทั้งหมด
          this.totalSlides = this.$refs.slidesContainer.querySelectorAll('.slide').length;
          
          // เพิ่ม event listeners
          this.setupKeyboardNavigation();
          this.setupTouchNavigation();
        },

        nextSlide() {
          this.currentSlide = (this.currentSlide + 1) % this.totalSlides;
        },

        previousSlide() {
          this.currentSlide = (this.currentSlide - 1 + this.totalSlides) % this.totalSlides;
        },

        setupKeyboardNavigation() {
          document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
              e.preventDefault();
              this.nextSlide();
            } else if (e.key === 'ArrowLeft') {
              e.preventDefault();
              this.previousSlide();
            }
          });
        },

        setupTouchNavigation() {
          document.addEventListener('touchstart', (e) => {
            this.touchStartX = e.changedTouches[0].screenX;
          });

          document.addEventListener('touchend', (e) => {
            this.touchEndX = e.changedTouches[0].screenX;
            const swipeDistance = 50;
            
            if (this.touchStartX - this.touchEndX > swipeDistance) {
              this.nextSlide();
            } else if (this.touchEndX - this.touchStartX > swipeDistance) {
              this.previousSlide();
            }
          });
        }
      }
    }
    </script>

  </body>
</html>
